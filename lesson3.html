<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
    <script src="./lib/vue.js"></script>
  </head>
  <body>
    <div id="app">
      <input type="button" value="浪起来" @click="go" />
      <input type="button" value="低调" @click="stop" />
      <p>{{ msg }}</p>
    </div>
    <script>
      // 导入vue后，浏览器内存中，多了一个vue构造函数
      var vm = new Vue({
        el: "#app", // 指导控制元素
        data: {
          msg: "hello world ",
          intervalID: null
        },
        methods: {
          go() {
            if (this.intervalID !== null) return;
            this.intervalID = setInterval(() => {
              // 获取头的第一个字符
              const start = this.msg.substring(0, 1);
              // 获取后面所有字符
              const end = this.msg.substring(1);
              // 重新拼接得到的字符串，并重新赋值给msg
              this.msg = end + start;
              // vm 实例中 改变了data的值
              console.log(this.msg);
            }, 200);
          },

          stop() {
            clearInterval(this.intervalID);
            this.intervalID = null;
          }
        }
      });

      // 分析
      // 1. 点击按钮
      // 2. 点击按钮执行相关业务逻辑
      // a. 获取到msg字段
      // b. 获取到msg字段
    </script>
  </body>
</html>
